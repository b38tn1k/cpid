<!DOCTYPE html> 

<head>
	<title>cpid.io</title>
	<style type="text/css">
		body {
			font-family: sans-serif
		}
	</style> 
</head>

<body>
<img src="http://i.imgur.com/CIn1hwZ.png" title="cpid.io"/></a>

<h2>Welcome to the cpid.io homepage</h2>
<h3>
<a href="#about"> About</a> &#160;&#160;&#160;
<a href="#tutorial"> Tutorial </a> &#160;&#160;&#160;
<a href="https://github.com/jamesrobertcarthew/cpid"> Github</a>&#160;&#160;&#160;
<a href="#development"> Current Limitations </a> &#160;&#160;&#160;
</h3>

<h3><a name="about"> About </a></h3>
<p style= "width: 60%;">
A Cloud Based PID Controller intended to demonstrate the possibilities of applying web-based services to robotics. A PID controller is to be designed to operate on a host server and provide control data to a client via the Internet. As the controller will have to operate in real time, packet loss and network latency will have to be accounted for. A client account will allow developers to choose gain values for the PID controller. The server and the client will have different data communication responsibilities during operation.
</p>
<img src="http://i.imgur.com/LBPCYi7.png" title="Server/Client Communication"/>
<p style= "width: 60%;">
Error is calculated on the client side of the Internet to minimise latency and allow the client to dynamically change set point. A server based PID controller will be complemented with a simple linear predictor that utilises the current latency value in an attempt to time the arrival of a control effort data packet at the client in such a way that minimises error. Both the Control Effort and Error data will be sent accompanied by a time code and sequence number to allow for packet confirmation.
</p>

<h3><a name="tutorial"> Tutorial </a></h3>
<p style= "width: 60%;">
The following tutorial operates as a guide to get cpid.io controlling a DC motor using a rotary encoder as a sensor.
Modifying the source code it is possible to apply cpid.io in the same way any normal PID controller is utilised. 
You will need: 

<ul type="disc">
<li> An <a href="http://www.arduino.cc">  Arduino Uno and the Arduino IDE </a></li>
<li> An Optical Rotary Encoder, a <a href="http://www.freetronics.com/hbridge">Freetronics H-Bridge Motor Driver Shield</a> and a DC Motor</li>
<li>Source code available from <a href="https://github.com/jamesrobertcarthew/cpid"> Github</a></li>
<li> Please check the <a href="#development"> Current Limitations </a>section and update source code accordingly </li>
<li><a href="https://www.python.org/downloads/"> Python 2.7 </a> and <a href="http://pyserial.sourceforge.net"> pySerial </a></a></li>

</ul>
To create a basic rig and start experimenting with cpid.io:
<ul type="disc">
<li> The DC Motor shaft is coupled with the Rotary Encoder shaft via a 3D printed shaft coupler.
<li> Connect the H-Bridge Shield to the Arduino </li>
<li> Connect the Arduino via USB</li>
<li> Load the Arduino sketch "cpid_test.ino" from the downloaded source code pack</li>
<li> Connect the Encoder, DC motor and Arduino as shown below:</li>
</ul>
<img src="http://i.imgur.com/CqF3GkB.jpg" title="A Mess" width="600"/>
<ul type="disc">
<li> The DC Motor is connected to Output A of the H-Bridge Shield. </li>
<li> Connect Rotary Encoder Pulse A output to digital pin 8 and Pulse B to digital pin 2</li>
<li> Run "cpid_client.py" - you may have to change the COM port pyserial operates over </li>
</ul>
</p>

<h3><a name="development"> Current Limitations </a></h3>
<p style= "width: 60%;">
As of May 2014  <a href="http://cpid.io"> cpid.io </a>does not include multithreading capability. Whilst cpid.io was developed such that no error tracking is performed on the server and each control action is calculated independently of previous values, the fact that the PID gains can only be modified through the gains.conf file means that only one PID controller is available at one time. To counteract this issue one must change all references to external IPs to <a href="http://127.0.0.1"> 127.0.0.1 </a> and run the server and client functions on the same local machine.  </p>
<a href="https://github.com/jamesrobertcarthew/cpid"><img src="https://github.global.ssl.fastly.net/images/modules/logos_page/GitHub-Mark.png" title="Fork Me!" height="60" width="60"/></a>
</body>